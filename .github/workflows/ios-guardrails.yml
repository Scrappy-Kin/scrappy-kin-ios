name: ios-guardrails

on:
  pull_request:
  push:
    branches:
      - "**"

jobs:
  verify-ios-config:
    runs-on: macos-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
        with:
          fetch-depth: 0
      - name: Verify iOS config
        run: scripts/verify-ios-config.sh
      - name: Verify log schema
        run: scripts/check-log-schema.js
      - name: Verify audit manifest
        run: node scripts/generate-audit-manifest.js --check
